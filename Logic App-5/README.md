# Logic App-5: Use of For Each

What it does: This **Logic App** receives an array of names via an HTTP POST request, appends `"Hello "` to each name, and returns the greetings array.

## ðŸš€ Features

- Accepts an array of names.
- Loops through each name to prepend `"Hello "`.
- Returns an array of greetings.
- Fully automated using Azure Logic Apps (Consumption).

---

## ðŸ›  Steps to Create

### 1. Create the Logic App

- Go to **Azure Portal** â†’ **Create a Resource** â†’ Search **Logic App (Consumption)**.
- Select your **Resource Group**, provide a **Logic App Name**, choose a **Region**, and click **Create**.

### 2. Open Logic App Designer

- Open your Logic App â†’ **Logic App Designer**.
- Select **Blank Logic App**.

### 3. Add Trigger: When a HTTP Request is Received

- Search for **HTTP** â†’ select **When a HTTP request is received**.
- Configure:
  - **Method**: POST
  - **Request Body JSON Schema**:
    ```json
    {
      "type": "object",
      "properties": {
        "names": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    }
    ```
<img width="600" height="600" alt="image" src="https://github.com/user-attachments/assets/f8e77694-2ae2-4456-b76f-eca9da145052" />


### 4. Initialize Array Variable

- Add action â†’ **Variables** â†’ **Initialize variable**.
- Configure:
  - **Name**: `greetings`
  - **Type**: `Array`
  - **Value**: `[]`
<img width="600" height="600" alt="image" src="https://github.com/user-attachments/assets/bcfe2bc1-d6af-4afa-b478-1462d837b32b" />


### 5. Loop Through Names (For Each)

- Add action â†’ **Control** â†’ **For each**.
- Configure:

  - **Select an output from previous steps**: `@triggerBody()?['names']`
<img width="600" height="300" alt="image" src="https://github.com/user-attachments/assets/4d5553a7-370a-4747-a493-077202e34b1c" />


- Inside the loop, add action â†’ **Variables** â†’ **Append to array variable**:
  - **Name**: `greetings`
  - **Value**: `@concat('Hello ', item())`
<img width="800" height="548" alt="image" src="https://github.com/user-attachments/assets/f37df425-052c-425c-a6af-b99787b68690" />


### 6. Send Response

- Add action â†’ **Response** (HTTP)
- Configure:
  - **Status Code**: `200`
  - **Body**:
    `json
{
  "greetings": "@variables('greetings')"
}
`
<img width="600" height="575" alt="image" src="https://github.com/user-attachments/assets/f0ec5638-b17f-4432-b394-44f600ec7b8a" />


### 7. Save & Test

- Click **Save**.
- Copy the HTTP POST URL generated by the trigger.
- Send a POST request with a JSON body like:
  ```json
  {
    "names": ["Jagrit", "Alice", "Bob"]
  }
  ```
  The Workflow
<img width="600" height="700" alt="image" src="https://github.com/user-attachments/assets/1386b1fe-ff8a-4b64-bebe-b56a93dbb587" />


