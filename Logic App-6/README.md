# Logic App-6: Admin Access Validation

What it does: This **Logic App** validates the `group` of a user from an HTTP POST request.  
It returns **‚ÄúWelcome Admin‚Äù** if the user belongs to the `Admin` group, otherwise it returns **‚ÄúAccess Denied.‚Äù**

## üöÄ Features

- Accepts user details via HTTP POST request.
- Validates the `group` property.
- Sends a proper response based on access level.
- Fully automated using Azure Logic Apps (Consumption).


## üõ† Steps to Create

## 1. Create the Logic App

- Go to **Azure Portal** ‚Üí **Create a Resource** ‚Üí Search **Logic App (Consumption)**.
- Select your **Resource Group**, provide a **Logic App Name**, choose a **Region**, and click **Create**.

## 2. Open Logic App Designer

- Open your Logic App ‚Üí **Logic App Designer**.
- Select **Blank Logic App**.

## 3. Add Trigger: When a HTTP Request is Received

- Search for **HTTP** ‚Üí select **When a HTTP request is received**.
- Configure:
  - **Method**: POST
  - **Request Body JSON Schema**:
    ```json
    {
      "type": "object",
      "properties": {
        "user": { "type": "string" },
        "group": { "type": "string" }
      }
    }
    ```
<img width="600" height="600" alt="image" src="https://github.com/user-attachments/assets/5d709b35-2f4e-4f4a-80f7-7f985561c83f" />


## 4. Add Scope: Validate Group Scope

- Add **Control** ‚Üí **Scope** ‚Üí name it `Validate_Group_Scope`.
<img width="600" height="338" alt="image" src="https://github.com/user-attachments/assets/4060fb00-4c3c-43f3-aaff-2c0e20543319" />


## 5. Add Condition Inside Scope

- Inside the Scope, add **Control** ‚Üí **Condition**.
- Configure the condition expression:
  ```expression
  @equals(triggerBody()?['group'], 'Admin')
  ```
<img width="600" height="418" alt="image" src="https://github.com/user-attachments/assets/bccac470-3a64-456d-8cd4-ae49e5c7a130" />

## 6.Configure Actions for Condition

- If true (Yes branch):

  - Add Response (HTTP) action.
  - Configure:
    - Status Code: 200
    - Body: "Welcome Admin"
<img width="600" height="548" alt="image" src="https://github.com/user-attachments/assets/d4c87be7-6bef-46cc-89eb-0c4e32126315" />

- If false (No branch):
  - Add Response (HTTP) action.
  - Configure:
    - Status Code: 200
    - Body: "Access Denied"
<img width="600" height="408" alt="image" src="https://github.com/user-attachments/assets/a3a1fd28-c44e-4da2-9bbd-0446507b3191" />

### 7. Save & Test

- Click Save.
- Copy the HTTP POST URL generated by the trigger.

### The Output:
1.	Open Postman ‚Üí New POST request.
2.	Paste the Logic App HTTP POST URL.
3.	Set Body ‚Üí Raw ‚Üí JSON:
<img width="600" height="251" alt="image" src="https://github.com/user-attachments/assets/f150682e-0c7c-4660-80df-92fa20eb39d6" />
<img width="600" height="467" alt="image" src="https://github.com/user-attachments/assets/525f4a1c-a754-4fd3-a393-bc0da21717c1" />
<img width="600" height="483" alt="image" src="https://github.com/user-attachments/assets/08382873-e392-40e9-aaf1-69de7412b214" />

## The Workflow
<img width="600" height="932" alt="image" src="https://github.com/user-attachments/assets/08aa8316-c56a-4063-a875-e28e759d3ea6" />




